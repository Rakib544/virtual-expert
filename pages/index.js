import Head from "next/head";
import Amazon from "../src/components/home/amazon/amazon";
import Banner from "../src/components/home/banner/banner";
import HowToPlaceAnOrder from "../src/components/home/howToPlaceAnOrder/howToPlaceAnOrder";
import ScheduleMeeting from "../src/components/home/scheduleMeeting/scheduleMeeting";
import Testimonial from "../src/components/home/testimonial/testimonial";
import TopServices from "../src/components/home/topServices/topServices";
import WhyChooseVirtualExports from "../src/components/home/whyChooseVirtualExports/whyChooseVirtualExports";

export default function Home({topServicesData,virtualServicesData}) {
  return (
    <>
      <Head>
        <title>Virtual Experts | Home</title>
        <meta name="description" content="Generated by create next app" />
      </Head>

      <main>
        <Banner />
        <Amazon />
        <WhyChooseVirtualExports virtualServicesData={virtualServicesData} />
        <TopServices topServicesData={topServicesData} />
        <HowToPlaceAnOrder />
        <Testimonial />
        <ScheduleMeeting />
      </main>
    </>
  );
}
//top three services fetching
export async function getServerSideProps(context) {
  const resTopServices = await fetch("https://virtual-expert.herokuapp.com/topServices");
  const topServicesData = await resTopServices.json();
  const resVirtualService = await fetch("http://localhost:8000/virtualService");
  const virtualServicesData = await resVirtualService.json();
  return {
    props: {
      topServicesData,
      virtualServicesData,
    },
  };
}



