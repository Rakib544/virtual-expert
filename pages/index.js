import Head from 'next/head';
import Amazon from '../src/components/home/amazon/amazon';
import Banner from '../src/components/home/banner/banner';
import HowToPlaceAnOrder from '../src/components/home/howToPlaceAnOrder/howToPlaceAnOrder';
import ScheduleMeeting from '../src/components/home/scheduleMeeting/scheduleMeeting';
import Testimonial from '../src/components/home/testimonial/testimonial';
import TopServices from '../src/components/home/topServices/topServices';
import WhyChooseVirtualExports from '../src/components/home/whyChooseVirtualExports/whyChooseVirtualExports';

<<<<<<< HEAD
export default function Home({ placeAnOrderData, placeAnOrderListData }) {
=======
export default function Home({
  topServicesData,
  virtualServicesData,
  bannerData,
  headerInfoVirtualExportsData,
  headerInfoTopServicesData,
}) {
>>>>>>> ebc29d1bf7f1cf916d62249309e79825a767a1c1
  return (
    <>
      <Head>
        <title>Virtual Experts | Home</title>
        <meta name="description" content="Generated by create next app" />
      </Head>

      <main>
        <Banner bannerData={bannerData} />
        <Amazon />
        <WhyChooseVirtualExports
          virtualServicesData={virtualServicesData}
          headerInfoVirtualExportsData={headerInfoVirtualExportsData}
        />
        <TopServices
          topServicesData={topServicesData}
          headerInfoTopServicesData={headerInfoTopServicesData}
        />
        <HowToPlaceAnOrder />
        <Testimonial />
        <ScheduleMeeting />
      </main>
    </>
  );
}
//top three services fetching
export async function getServerSideProps(context) {
  const resTopServices = await fetch("http://localhost:8000/topServices");
  const topServicesData = await resTopServices.json();

  const resHeaderInfoTopServices = await fetch(
    "http://localhost:8000/headerInfoTopServices"
  );
  const headerInfoTopServicesData = await resHeaderInfoTopServices.json();

  const resVirtualService = await fetch(
    "https://virtual-expert.herokuapp.com/virtualService"
  );
  const virtualServicesData = await resVirtualService.json();

  const resHeaderInfoVirtualExports = await fetch(
    "http://localhost:8000/headerInfoVirtualExports"
  );
  const headerInfoVirtualExportsData = await resHeaderInfoVirtualExports.json();

  const resBanner = await fetch("http://localhost:8000/banner");
  const bannerData = await resBanner.json();

  return {
    props: {
      topServicesData,
      headerInfoTopServicesData,
      headerInfoVirtualExportsData,
      virtualServicesData,
      bannerData,
    },
  };
}
